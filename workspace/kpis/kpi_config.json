{
  "monthly_aws_cost": {
    "id": "monthly_aws_cost",
    "name": "Monthly AWS Cost",
    "description": "Total AWS costs for the current month",
    "query_type": "cur",
    "query": "SELECT ROUND(SUM(\"lineitem/unblendedcost\"), 2) as total_cost FROM {table} WHERE \"lineitem/usagestartdate\" >= DATE_TRUNC('month', current_date) AND \"lineitem/usagestartdate\" < DATE_ADD('month', 1, DATE_TRUNC('month', current_date))",
    "format": "currency",
    "icon": "\ud83d\udcb0",
    "color": "#3498db",
    "size": "medium",
    "refresh_interval": 3600,
    "last_updated": "2025-10-14T16:58:45.336584",
    "last_value": "533130.47",
    "trend": null
  },
  "ec2_cost": {
    "id": "ec2_cost",
    "name": "EC2 Cost",
    "description": "Total EC2 compute costs for the current month",
    "query_type": "cur",
    "query": "SELECT ROUND(SUM(\"lineitem/unblendedcost\"), 2) as ec2_cost FROM {table} WHERE \"lineitem/usagestartdate\" >= DATE_TRUNC('month', current_date) AND \"lineitem/usagestartdate\" < DATE_ADD('month', 1, DATE_TRUNC('month', current_date)) AND \"product/servicecode\" = 'AmazonEC2' AND \"product/productname\" = 'Amazon Elastic Compute Cloud'",
    "format": "currency",
    "icon": "\ud83d\udda5\ufe0f",
    "color": "#e74c3c",
    "size": "small",
    "refresh_interval": 3600,
    "last_updated": "2025-10-14T16:58:45.336473",
    "last_value": "50367.6",
    "trend": null
  },
  "rds_cost": {
    "id": "rds_cost",
    "name": "RDS Cost",
    "description": "Total RDS database costs for the current month",
    "query_type": "cur",
    "query": "SELECT ROUND(SUM(\"lineitem/unblendedcost\"), 2) as rds_cost FROM {table} WHERE \"lineitem/usagestartdate\" >= DATE_TRUNC('month', current_date) AND \"lineitem/usagestartdate\" < DATE_ADD('month', 1, DATE_TRUNC('month', current_date)) AND \"product/servicecode\" = 'AmazonRDS'",
    "format": "currency",
    "icon": "\ud83d\uddc4\ufe0f",
    "color": "#2ecc71",
    "size": "small",
    "refresh_interval": 3600,
    "last_updated": "2025-10-14T16:58:45.336671",
    "last_value": "36282.02",
    "trend": null
  },
  "savings_plan_coverage": {
    "id": "savings_plan_coverage",
    "name": "Savings Plan Coverage",
    "description": "Percentage of eligible spend covered by Savings Plans",
    "query_type": "cost_explorer",
    "query": "get_ri_coverage",
    "format": "percentage",
    "icon": "\ud83c\udfaf",
    "color": "#9b59b6",
    "size": "small",
    "refresh_interval": 3600,
    "last_updated": "2025-10-14T16:58:41.657546",
    "last_value": 0.0,
    "trend": null
  },
  "s3_storage_cost": {
    "id": "s3_storage_cost",
    "name": "S3 Storage Cost",
    "description": "Total S3 storage costs for the current month",
    "query_type": "cur",
    "query": "SELECT ROUND(SUM(\"lineitem/unblendedcost\"), 2) as s3_cost FROM {table} WHERE \"lineitem/usagestartdate\" >= DATE_TRUNC('month', current_date) AND \"lineitem/usagestartdate\" < DATE_ADD('month', 1, DATE_TRUNC('month', current_date)) AND \"product/servicecode\" = 'AmazonS3'",
    "format": "currency",
    "icon": "\ud83d\udce6",
    "color": "#f39c12",
    "size": "small",
    "refresh_interval": 3600,
    "last_updated": "2025-10-14T16:58:47.319560",
    "last_value": "15974.76",
    "trend": null
  },
  "network_firewall_cost": {
    "id": "network_firewall_cost",
    "name": "Network Firewall Cost",
    "description": "Total AWS Network Firewall costs for the current month",
    "query_type": "cur",
    "query": "SELECT ROUND(SUM(\"lineitem/unblendedcost\"), 2) as firewall_cost FROM {table} WHERE \"lineitem/usagestartdate\" >= DATE_TRUNC('month', current_date) AND \"lineitem/usagestartdate\" < DATE_ADD('month', 1, DATE_TRUNC('month', current_date)) AND \"product/productname\" = 'AWS Network Firewall'",
    "format": "currency",
    "icon": "\ud83d\udd12",
    "color": "#34495e",
    "size": "small",
    "refresh_interval": 3600,
    "last_updated": "2025-10-14T16:58:46.375262",
    "last_value": "39588.55",
    "trend": null
  },
  "top_ec2_instance_cost": {
    "id": "top_ec2_instance_cost",
    "name": "Top EC2 Instance Cost",
    "description": "Top EC2 instance type by cost for the current month",
    "query_type": "cur",
    "query": "SELECT \"product/instancetype\" as instance_type, ROUND(SUM(\"lineitem/unblendedcost\"), 2) as cost FROM {table} WHERE \"lineitem/usagestartdate\" >= DATE_TRUNC('month', current_date) AND \"lineitem/usagestartdate\" < DATE_ADD('month', 1, DATE_TRUNC('month', current_date)) AND \"product/servicecode\" = 'AmazonEC2' AND \"product/instancetype\" <> '' GROUP BY \"product/instancetype\" ORDER BY cost DESC LIMIT 1",
    "format": "text",
    "icon": "\ud83d\udd0d",
    "color": "#e67e22",
    "size": "small",
    "refresh_interval": 3600,
    "last_updated": "2025-10-14T16:58:45.033047",
    "last_value": "c5.2xlarge",
    "trend": null
  },
  "b2b2c_eks_cluster_cost": {
    "id": "b2b2c_eks_cluster_cost",
    "name": "B2B2C EKS Cluster Cost",
    "description": "Cost for the b2b2c EKS cluster (your highest spend cluster)",
    "query_type": "cur",
    "query": "SELECT ROUND(SUM(\"lineitem/unblendedcost\"), 2) as cluster_cost FROM {table} WHERE \"lineitem/usagestartdate\" >= DATE_TRUNC('month', current_date) AND \"lineitem/usagestartdate\" < DATE_ADD('month', 1, DATE_TRUNC('month', current_date)) AND raw_tags LIKE '%yubi_b2b2c_eks_cluster%'",
    "format": "currency",
    "icon": "\ud83d\udd04",
    "color": "#1abc9c",
    "size": "small",
    "refresh_interval": 3600,
    "last_updated": "2025-10-14T16:58:58.027821",
    "last_value": "533130.47",
    "trend": null
  },
  "month_over_month_change": {
    "id": "month_over_month_change",
    "name": "Month-over-Month Change",
    "description": "Percentage change in cost compared to previous month",
    "query_type": "cur",
    "query": "WITH current_month AS (\n  SELECT ROUND(SUM(\"lineitem/unblendedcost\"), 2) as cost\n  FROM {table}\n  WHERE \"lineitem/usagestartdate\" >= DATE_TRUNC('month', current_date)\n  AND \"lineitem/usagestartdate\" < DATE_ADD('month', 1, DATE_TRUNC('month', current_date))\n),\nprevious_month AS (\n  SELECT ROUND(SUM(\"lineitem/unblendedcost\"), 2) as cost\n  FROM {table}\n  WHERE \"lineitem/usagestartdate\" >= DATE_ADD('month', -1, DATE_TRUNC('month', current_date))\n  AND \"lineitem/usagestartdate\" < DATE_TRUNC('month', current_date)\n)\nSELECT \n  CASE \n    WHEN p.cost = 0 THEN 0\n    ELSE ROUND(((c.cost - p.cost) / p.cost) * 100, 1)\n  END as pct_change\nFROM current_month c, previous_month p",
    "format": "percentage",
    "icon": "\ud83d\udcc8",
    "color": "#8e44ad",
    "size": "small",
    "refresh_interval": 3600,
    "last_updated": "2025-10-14T16:58:49.657308",
    "last_value": "28.6",
    "trend": null
  },
  "on_demand_spend_%": {
    "id": "on_demand_spend_%",
    "name": "On-Demand Spend %",
    "description": "Percentage of spend on On-Demand resources (optimization opportunity)",
    "query_type": "cur",
    "query": "WITH total_spend AS (\n  SELECT SUM(\"lineitem/unblendedcost\") as cost\n  FROM {table}\n  WHERE \"lineitem/usagestartdate\" >= DATE_TRUNC('month', current_date)\n  AND \"lineitem/usagestartdate\" < DATE_ADD('month', 1, DATE_TRUNC('month', current_date))\n),\non_demand_spend AS (\n  SELECT SUM(\"lineitem/unblendedcost\") as cost\n  FROM {table}\n  WHERE \"lineitem/usagestartdate\" >= DATE_TRUNC('month', current_date)\n  AND \"lineitem/usagestartdate\" < DATE_ADD('month', 1, DATE_TRUNC('month', current_date))\n  AND \"lineitem/lineitemtype\" = 'Usage'\n  AND \"pricing/term\" = 'OnDemand'\n)\nSELECT \n  CASE \n    WHEN t.cost = 0 THEN 0\n    ELSE ROUND((od.cost / t.cost) * 100, 1)\n  END as on_demand_pct\nFROM total_spend t, on_demand_spend od",
    "format": "percentage",
    "icon": "\ud83d\udcb8",
    "color": "#c0392b",
    "size": "small",
    "refresh_interval": 3600,
    "last_updated": "2025-10-14T16:55:01.971965",
    "last_value": "50.4",
    "trend": null
  }
}