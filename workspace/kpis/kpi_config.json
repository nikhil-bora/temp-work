{
  "total_monthly_cost": {
    "id": "total_monthly_cost",
    "name": "Total Monthly Cost",
    "description": "Total AWS spend for current month",
    "query_type": "cur",
    "query": "\n                    SELECT\n                        SUM(\"lineitem/unblendedcost\") as total_cost\n                    FROM {table}\n                    WHERE\n                        MONTH(\"bill/billingperiodstartdate\") = MONTH(current_date)\n                        AND YEAR(\"bill/billingperiodstartdate\") = YEAR(current_date)\n                ",
    "format": "currency",
    "icon": "\ud83d\udcb0",
    "color": "#a826b3",
    "size": "large",
    "refresh_interval": 3600,
    "last_updated": "2025-10-10T17:43:53.556026",
    "last_value": "10929.603643597111",
    "trend": null
  },
  "daily_cost": {
    "id": "daily_cost",
    "name": "Daily Cost",
    "description": "Average daily spend this month",
    "query_type": "cur",
    "query": "\n                    SELECT\n                        SUM(\"lineitem/unblendedcost\") / COUNT(DISTINCT DATE(\"lineitem/usagestartdate\")) as daily_avg\n                    FROM {table}\n                    WHERE\n                        MONTH(\"bill/billingperiodstartdate\") = MONTH(current_date)\n                        AND YEAR(\"bill/billingperiodstartdate\") = YEAR(current_date)\n                ",
    "format": "currency",
    "icon": "\ud83d\udcca",
    "color": "#33ccff",
    "size": "medium",
    "refresh_interval": 1800,
    "last_updated": "2025-10-10T18:17:02.444223",
    "last_value": "341.55011386240557",
    "trend": null
  },
  "top_service": {
    "id": "top_service",
    "name": "Top Service",
    "description": "Highest cost service this month",
    "query_type": "cur",
    "query": "\n                    SELECT\n                        \"lineitem/productcode\" as service\n                    FROM {table}\n                    WHERE\n                        MONTH(\"bill/billingperiodstartdate\") = MONTH(current_date)\n                        AND YEAR(\"bill/billingperiodstartdate\") = YEAR(current_date)\n                    GROUP BY \"lineitem/productcode\"\n                    ORDER BY SUM(\"lineitem/unblendedcost\") DESC\n                    LIMIT 1\n                ",
    "format": "text",
    "icon": "\ud83e\udd47",
    "color": "#ff5c69",
    "size": "medium",
    "refresh_interval": 3600,
    "last_updated": "2025-10-10T17:43:53.538987",
    "last_value": "AmazonEC2",
    "trend": null
  },
  "ec2_instances": {
    "id": "ec2_instances",
    "name": "EC2 Instances",
    "description": "Total running EC2 instances",
    "query_type": "cur",
    "query": "\n                    SELECT\n                        COUNT(DISTINCT \"lineitem/resourceid\") as instance_count\n                    FROM {table}\n                    WHERE\n                        \"lineitem/productcode\" = 'AmazonEC2'\n                        AND \"lineitem/usagetype\" LIKE '%BoxUsage%'\n                        AND MONTH(\"bill/billingperiodstartdate\") = MONTH(current_date)\n                    AND YEAR(\"bill/billingperiodstartdate\") = YEAR(current_date)\n                ",
    "format": "number",
    "icon": "\ud83d\udda5\ufe0f",
    "color": "#3cf",
    "size": "small",
    "refresh_interval": 1800,
    "last_updated": "2025-10-10T18:17:03.429008",
    "last_value": "1355",
    "trend": null
  },
  "ri_coverage": {
    "id": "ri_coverage",
    "name": "RI Coverage",
    "description": "Reserved Instance coverage percentage",
    "query_type": "cost_explorer",
    "query": "get_ri_coverage",
    "format": "percentage",
    "icon": "\ud83c\udfaf",
    "color": "#a826b3",
    "size": "medium",
    "refresh_interval": 3600,
    "last_updated": "2025-10-10T17:43:52.118811",
    "last_value": 0.0,
    "trend": null
  },
  "cost_anomalies": {
    "id": "cost_anomalies",
    "name": "Cost Anomalies",
    "description": "Number of cost anomalies detected",
    "query_type": "cost_explorer",
    "query": "get_anomalies_count",
    "format": "number",
    "icon": "\u26a0\ufe0f",
    "color": "#ff5c69",
    "size": "small",
    "refresh_interval": 1800,
    "last_updated": "2025-10-10T18:17:00.834164",
    "last_value": 0,
    "trend": null
  },
  "s3_monthly_cost": {
    "id": "s3_monthly_cost",
    "name": "S3 Monthly Cost",
    "description": "Total S3 costs for the current month from CUR data",
    "query_type": "cur",
    "query": "SELECT ROUND(SUM(\"lineitem/unblendedcost\"), 2) as value FROM {table} WHERE \"product/productname\" = 'Amazon Simple Storage Service' AND \"lineitem/usagestartdate\" >= DATE_TRUNC('month', CURRENT_DATE) AND \"lineitem/usagestartdate\" < DATE_TRUNC('month', CURRENT_DATE) + INTERVAL '1' MONTH",
    "format": "currency",
    "icon": "\ud83e\udea3",
    "color": "#a826b3",
    "size": "medium",
    "refresh_interval": 3600,
    "last_updated": "2025-10-10T17:43:55.322470",
    "last_value": "946.29",
    "trend": null
  },
  "savings_plans_coverage": {
    "id": "savings_plans_coverage",
    "name": "Savings Plans Coverage",
    "description": "Percentage of eligible compute usage covered by Savings Plans",
    "query_type": "cur",
    "query": "SELECT ROUND(SUM(CASE WHEN \"savingsPlan/savingsPlanEffectiveCost\" > 0 THEN \"savingsPlan/savingsPlanEffectiveCost\" ELSE 0 END) / \nNULLIF(SUM(CASE WHEN \"lineitem/usagetype\" LIKE '%BoxUsage%' OR \"lineitem/usagetype\" LIKE '%Lambda%' OR \"lineitem/usagetype\" LIKE '%Fargate%' THEN \"lineitem/unblendedcost\" ELSE 0 END), 0) * 100, 2) as coverage_percentage\nFROM {table}\nWHERE \"lineitem/usagestartdate\" >= date_add('month', -1, current_date)",
    "format": "percentage",
    "icon": "\ud83d\udcb0",
    "color": "#33ccff",
    "size": "large",
    "refresh_interval": 3600,
    "last_updated": "2025-10-10T18:42:05.037849",
    "last_value": "79.35",
    "trend": null
  }
}